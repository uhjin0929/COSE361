
- **네트워크 장치** : **호스트(종단시스템)** : 인터넷의 가장자리에서 application run하는 주체
	- <span style="color:rgb(192, 0, 0)">각각 링크(물리매체)</span>와 스위치로 연결**됨

- **패킷 스위치** : 한 호스트에서 다른 호스트로 데이터를 보낼 때, **데이터를 segment로 나누고 각 segment에 header를 붙여서 정보를 패키지화**함. 이것을 **"패킷" 이라고 부름 
	- 패킷은 **소스(어디서왔니)**, **목적지(어디로가니),** **페이로드** 의 정보로 이루어져 있음.
	- **스위치**는 도착하는 패킷을 받아서, 최종 목적지 방향으로 패킷을 전달함. **(router, linklayer switch)**
	- **패킷**은 목적지에서 원래 데이터로 조립
	- 종류 : router, link-layer switch
	- **path** : 보내는 host에서 받는 host로 가는 동안 거친 링크와 스위치

- **프로토콜** : 메세지의 송수신과 다른 이벤트에 따른 행동 양식(헤더에 뭘 담을지까지의 정보) 어플리케이션 말고 다른 계층에서도 각각 나름의 프로토콜이 있어. 계층별로 이 프로토콜은 어떻게 작동하는지 정리해두자.
	-  **TCP/IP** : 인터넷의 주요 프로토콜
	       **각각의 모든 개체가 함께 이해할 수 있는 프로토콜이 필요**함

- **네트워크 코어** (in 네트워크 계층, 라우터로 해요)
   - **패킷 스위칭(대세)** : 출발지에서 목적지까지 데이터를 보낼 때, 보내는 쪽이 긴 메세지를 패킷이라는 작은 덩어리로 보낸다. 이것이 링크와 패킷 스위치를 거치게 되고, 각각의 통신 링크상에서 최대전송속도와 같은 속도로 전송
	   - **store-and-foreward** : 대부분의 패킷스위치가 이 방식을 사용함. 스위치가 출력링크로 패킷의 첫 비트를 전송하기 전에 전체 패킷을 받아야 함.
	   - L비트의 패킷을 Rbps 링크로 보낼 때, **<L/R>**초가 걸림. 
	   - source부터 목적지까지 링크 N개, 전송속도가 R일때, **end-end delay는 <2L/R>**이 걸림. 
	   - **queueing delay, los**s : 패킷이 링크 하나를 사용해서 전달되어야 할 때, 그 링크가 다른 패킷을 전송 중이라면 출력 버퍼에서 대기해야 함 -> queueing delay (예측불허)
	   - Forwarding : 라우터에서 다음 라우터까지 전달하는 local action
	   - Routing : 라우터의 효율적인 길 찾기의 global action
	   -  **서킷 스위칭** : 어느 회선을 타고 갈지 미리 정해놓고, 패킷을 거기로만 보낸다.
		   - 회선을 하나씩 무조건 확보해야 하니까, 많은 end-to-end에선 불리함. 
		   - **FDM(주파수 분할 다중화)** : 한 전송로의 대역폭을 여러 개의 작은 채널로 분할해서, 여러 단말기가 동시에 유형 like 고속도로 차선, **넓은 대역폭을 좁은 대역폭으로 나누는거**임
		   - **TDM(시분할 다중화)** : 하나의 전송로 대역폭을 time slot으로 나누어 채널에 할당, **몇개의 채널들이 한 전송로의 시간을 분할하여 사용.**
	   - **패킷 스위칭** : end-end delay가 가변적(예측X), 실시간 서비스에 적당 X, 
		   - 하지만 **더 간단하고 ,싸고, 효율적임**(지연이 같다면 사용자수 3배이상)

- **Internet structure** : Host가 인터넷을 **Internet Service Provider(ISP)를 통해 연결
        -  각각의 ISP들을 직접 연결하는건 O(N2)라서 비효율적임
        -  **각각의 ISP를 여러개의 global transit ISP가 담당한다. 이 global isp들을 연결하는 것이 IXP(internet exchange point), 국가간의 큰 네트워크를 연결해주는 거지**
- **패킷 손실, 지연, 손실률**
	- 패킷들이 큐 순서대로 전송되는 중에..
	- 일시적으로 링크의 수용량보다 더 많은 패킷이 도착하면 **패킷이 손실**된다.
		- 링크의 버퍼의 수용량은 한정적이므로, **라우터의 메모리가 full(full queue)가 되었을 때 패킷이 도착하면 버려진다 -> loss**
		- 그렇게 해서 빠진 부분이 있으면, TCP가 검사해서 다시 보내라고 요청한다.
	- t**ransmission(L/R), propagation(d/s), nodal processing delay**은 predictable하지만, **queueing delay**는 unpredictable, 복잡하니 J자모양으로 증가한다고만..
	- **Throughput(전송률)** : 용량(전송률)이 다른 파이프가 서버, 라우터, 호스트 각각 사이에 있다고 생각해보자. **뒤쪽 파이프의 용량이 크더라도 앞쪽 파이프가 작으면 밀릴 수밖에 없다.** 보틀넥(병목)현상과 같음. 따라서, **가장 전송률이 낮은 파이프 기준으로 생각**을 하는것이 타당함.
- **공격받는 네트워크**
	- Bad guy들이 인터넷을 통해 host에 **malware**(virus, worm=DDoS)
	- Bad guy들이 서버와 네트워크 기반구조를 공격
		- **Dos** : 회선의 대역폭이 넘치도록 공격자가 패킷을 왕창 보내면, 정상적 패킷이 loss
	- Bad guy들이 패킷을 탐지
		- **packet sniffing** : 회선을 따라가서 흘러가는 data를 가져와서 몰래 보기
	- Bad guy들이 당신이 신뢰하는 사람인 것처럼 위장 
		- **IP 스푸핑** : 데이터를 변조해서 다른 것으로 위장, 다른 사용자인 것처럼 행동, 짝퉁 주소 패킷을 인터넷으로 보냄


=======================================
- **OSI 7 layer** : 네트워크 표준 (7계층 시험에 물어봄)
	- **Application** : 카톡
	- **Presentation**
	- **Session** : 전체 네트워크 흐름 관리
	- **Transport** : 포트정보를 처리함 , 소켓 투 소켓
		- **TCP, UDP**
	- **Network** : IP주소를 처리함 , 라우터
	- **(Data) Link** : MAC주소(물리적주소)를 처리함, 스위치
	- **Physical** : 물리적 매체를 통해 전기적 신호를 전송
	- 4 layer로도 설명 가능, Application(7,6,5), Transport(4), Internet(3), Network Interface(2,1)에 해당
	- TMI) 7이 더 오래된건데 현업에서는 4퉁치기로 가는게 교과서적인 7보다 나음 
- TCP/IP layer
	- Application
	- **Transport : TCP,UDP 프로토콜 사용
	- **Internet : IP정보처리**
	- **Network Interface : 맥주소**
	- (Hardware)


몇계층에서 무슨 역할을 하는지 파놔야 틀 잡기가 쉽다..... ! ! !